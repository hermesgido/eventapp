{% extends 'base.html' %}
{% load static %}



{% block content %}

  <body>
    <!-- Add the theme toggle dropdown here if needed -->

    <header data-bs-theme="dark">
      <div class="navbar navbar-dark bg-dark shadow-sm">
        <div class="container">
          <a href="#" class="navbar-brand d-flex align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true" class="me-2" viewBox="0 0 24 24">
              <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2-3h4a2 2 0 0 1 2 2z"/>
              <circle cx="12" cy="13" r="4"/>
            </svg>
            <strong>EventApp</strong>
          </a>
        </div>
      </div>
    </header>

    <main class="login-body text-white">
      <div class="card-container">

        <div class="form-card">
          {% include 'messages.html' %}

          <h2 id="form-title">Login</h2>
          <form id="login-form" action="" method="POST">
            {% csrf_token %}
            <div class="mb-3">
              <label for="loginUsername" class="form-label">Email</label>
              <input type="email" class="form-control" id="loginUsername" name="email" required>
            </div>
           
            <div class="mb-3">
              <label for="loginPassword" class="form-label">Password</label>
              <input type="password" class="form-control" id="loginPassword" name="password" required>
            </div>
            <button type="submit" class="btn btn-primary">Login</button>
          </form>

          <form id="register-form" style="display: none;" action="{% url 'register' %}" method="POST" >
            {% csrf_token %}
            <h2 id="form-title"></h2>
            <div class="mb-3">
              <label for="registerUsername" class="form-la4bel">Email</label>
              <input type="email" class="form-control" id="registerUsername" name="email" required>
            </div>
            <div class="mb-3">
                <label for="phone">Phone Number</label>
                <input class="form-control" type="tel" id="phone" name="phone"  required>
            </div>
            <div class="mb-3">
              <label for="registerPassword" class="form-label">Password</label>
              <input type="password" class="form-control" id="registerPassword" name="password" required>
            </div>
            
            <button type="submit" class="btn btn-primary">Register</button>
          </form>
          <div class="text-center mt-2">
            <a id="switch-form" href="#">Switch to Register</a>
          </div>
        </div>
      </div>
    </main>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="{% static 'script.js' %}"></script>
    <script>
      const switchFormLink = document.getElementById('switch-form');
      const loginForm = document.getElementById('login-form');
      const registerForm = document.getElementById('register-form');
      const formTitle = document.getElementById('form-title');

      switchFormLink.addEventListener('click', (event) => {
        event.preventDefault();

        if (loginForm.style.display === 'block') {
          loginForm.style.display = 'none';
          registerForm.style.display = 'block';
          formTitle.innerText = 'Register';
          switchFormLink.innerText = 'Switch to Login';
        } else {
          loginForm.style.display = 'block';
          registerForm.style.display = 'none';
          formTitle.innerText = 'Login';
          switchFormLink.innerText = 'Switch to Register';
        }
      });
    </script>
  </body>


{% endblock content %}
